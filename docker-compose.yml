version: '3'
services:
  web:
    image: electrified/notes:latest
    ports:
     - "8080:3000"
    volumes:
     - .:/usr/src/app
     - assets:/assets
    depends_on:
     - database
    environment:
      DB_USER: notes
      DB_PASSWORD: password
      DB_DATABASE: notes
      DB_HOST: database
      ASSETS_DIR: /assets
  database:
    image: "postgres:9.6-alpine"
    volumes:
     - database_data:/var/lib/postgres
    environment:
       POSTGRES_PASSWORD: password
       POSTGRES_USER: notes
       POSTGRES_INITDB_ARGS: "--locale en_GB.UTF-8"
volumes:
    database_data:
    assets:
